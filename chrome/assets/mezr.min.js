/*!
 * mezr v0.6.0
 * https://github.com/niklasramo/mezr
 * Copyright (c) 2016 Niklas Rämö <inramo@gmail.com>
 * Released under the MIT license
 */
!function(t,e){"function"==typeof define&&define.amd?define([],function(){return e(t)}):"object"==typeof module&&module.exports?module.exports=e(t):t.mezr=e(t)}(this,function(t,e){"use strict";function n(t,e){return e=e&&S[e]||4,j("width",t,e>1,e>2,e>3,e>4)}function o(t,e){return e=e&&S[e]||4,j("height",t,e>1,e>2,e>3,e>4)}function r(t,e){if(Array.isArray(t)||e&&"string"!=typeof e){var n=[].concat(t),o=[].concat(e),r=c(t)?t:M(n[0],n[1]),i=c(e)?e:M(o[0],o[1]);return{left:r.left-i.left,top:r.top-i.top}}return M(t,e)}function i(t,e){if(Array.isArray(t)||e&&"string"!=typeof e){var n=[].concat(t),o=[].concat(e),r=c(t)?t:E(n[0],n[1]),i=c(e)?e:M(o[0],o[1]);return r.left=r.left-i.left,r.top=r.top-i.top,r}return E(t,e)}function f(t,e){if(t===X)return null;if(t===T)return X;var n=e||b(t,"position");if("relative"===n)return t;if("fixed"!==n&&"absolute"!==n)return null;if("fixed"===n&&V.transformLeaksFixed)return T;var o=t===z?X:t.parentElement||null;if("fixed"===n){for(;o&&o!==X&&!s(o);)o=o.parentElement||X;return o===X?T:o}for(;o&&o!==X&&"static"===b(o,"position")&&!s(o);)o=o.parentElement||X;return o}function l(t,e){var n=A(t),o=A(e);return x(n,o)?-1:C(n,o)}function a(){var t=x(arguments[0],arguments[1]);if(arguments.length>2)for(var e=2;e<arguments.length&&(t=x(t,arguments[e]),t);++e);return t}function p(t,e){var n=y(e,t);return{left:-n.left,right:-n.right,top:-n.top,bottom:-n.bottom}}function u(t){var e,n,o,r={},i=m([V.placeDefaultOptions,t||{}]),f="string"==typeof i.position?i.position.split(" "):i.position,l=A(i.element,!0),a=A(i.target),p=c(i.contain),u=p&&i.contain.within,h=p&&N(i.contain.onOverflow),d=0,s=0,b=i.offsetX,v=i.offsetY;return b="string"==typeof b&&b.indexOf("%")>-1?g(b)/100*l.width:g(b),v="string"==typeof v&&v.indexOf("%")>-1?g(v)/100*l.height:g(v),r.left=k(f[0],f[2],a.width,a.left,l.width,l.left,b),r.top=k(f[1],f[3],a.height,a.top,l.height,l.top,v),l.left+=r.left,l.top+=r.top,u&&h&&(e=A(u),n=y(l,e),(n.left<0||n.right<0)&&(d=B(h,n),r.left+=d),(n.top<0||n.bottom<0)&&(s=B(h,n,1),r.top+=s)),"function"==typeof i.adjust&&(0!==d&&(l.left+=d,l.right=l.left+l.width),0!==s&&(l.top+=s,l.bottom=l.left+l.width),e=u?e||A(u):null,o=c(i.element)?i.element:M.apply(null,[].concat(i.element)),n=e?y(l,e):null,i.adjust(r,{elementRect:l,targetRect:a,containerRect:e,shift:{left:l.left-o.left,top:l.top-o.top},overflow:n?{left:-n.left,right:-n.right,top:-n.top,bottom:-n.bottom}:null,overflowCorrection:{left:d,top:s}})),r}function c(t){return"object"==typeof t&&"[object Object]"===Object.prototype.toString.call(t)}function h(){for(var t=["transform","WebkitTransform","MozTransform","OTransform","msTransform"],n=0;n<t.length;n++)if(z.style[t[n]]!==e){var o=t[n],r=o.toLowerCase().split("transform")[0];return{prefix:r,propName:o,styleName:r?"-"+r+"-transform":o}}return null}function d(){if(!V.transform)return!0;var t,e,n=X.createElement("div"),o=X.createElement("div");return w(n,{display:"block",visibility:"hidden",position:"absolute",width:"1px",height:"1px",left:"1px",top:"0",margin:"0"}),w(o,{display:"block",position:"fixed",width:"1px",height:"1px",left:"0",top:"0",margin:"0"}),n.appendChild(o),F.appendChild(n),t=o.getBoundingClientRect().left,n.style[V.transform.propName]="translateX(0)",e=o.getBoundingClientRect().left,F.removeChild(n),e===t}function s(t){var e=b(t,V.transform.styleName),n=b(t,"display");return"none"!==e&&"inline"!==n&&"none"!==n}function g(t){return parseFloat(t)||0}function m(t){for(var e,n,o={},r=0,i=t.length;r<i;r++)for(e in t[r])t[r].hasOwnProperty(e)&&(n=t[r][e],o[e]=c(n)?m([n]):Array.isArray(n)?n.slice():n);return o}function b(t,e){return T.getComputedStyle(t,null).getPropertyValue(e)}function v(t,e){return g(b(t,e))}function w(t,e){Object.keys(e).forEach(function(n){t.style[n]=e[n]})}function y(t,e){return t=A(t),e=A(e),{left:t.left-e.left,right:e.left+e.width-(t.left+t.width),top:t.top-e.top,bottom:e.top+e.height-(t.top+t.height)}}function x(t,e){var n={},o=A(t),r=A(e),i=y(o,r),f=D(o.width+P(i.left,0)+P(i.right,0),0),l=D(o.height+P(i.top,0)+P(i.bottom,0),0),a=f>0&&l>0;return a&&(n.width=f,n.height=l,n.left=o.left+Y(P(i.left,0)),n.top=o.top+Y(P(i.top,0)),n.right=n.left+n.width,n.bottom=n.top+n.height),a?n:null}function O(t,e,n,o){return Math.sqrt(Math.pow(n-t,2)+Math.pow(o-e,2))}function C(t,e){var n=0,o=t.left,r=o+e.width,i=t.top,f=i+e.height,l=e.left,a=l+e.width,p=e.top,u=p+e.height;return n=(l>r||a<o)&&(p>f||u<i)?l>r?u<i?O(r,i,l,u):O(r,f,l,p):u<i?O(o,i,a,u):O(o,f,a,p):u<i?i-u:l>r?l-r:p>f?p-f:o-a}function j(t,n,o,r,i,f){var l,a,p,u,c,h,d,s,g="height"===t,m=g?"Height":"Width",b="inner"+m,w="client"+m,y="scroll"+m;return n.self===T.self?l=r?T[b]:z[w]:n===X?r?(s=T[b]-z[w],l=D(z[y]+s,F[y]+s,T[b])):l=D(z[y],F[y],z[w]):(a=g?"top":"left",p=g?"bottom":"right",l=(L||n.getBoundingClientRect())[t],r||(n===z?s=T[b]-z[w]:(u=v(n,"border-"+a+"-width"),c=v(n,"border-"+p+"-width"),s=Math.round(l)-(n[w]+u+c)),l-=s>0?s:0),o||(l-=v(n,"padding-"+a),l-=v(n,"padding-"+p)),i||(l-=u!==e?u:v(n,"border-"+a+"-width"),l-=c!==e?c:v(n,"border-"+p+"-width")),f&&(h=v(n,"margin-"+a),d=v(n,"margin-"+p),l+=h>0?h:0,l+=d>0?d:0)),l}function M(t,e){var n={left:0,top:0};if(t===X)return n;if(n.left=T.pageXOffset||0,n.top=T.pageYOffset||0,t.self===T.self)return n;var o=L||t.getBoundingClientRect();if(n.left+=o.left,n.top+=o.top,e=e&&S[e]||4,5===e){var r=v(t,"margin-left"),i=v(t,"margin-top");n.left-=r>0?r:0,n.top-=i>0?i:0}return e<4&&(n.left+=v(t,"border-left-width"),n.top+=v(t,"border-top-width")),1===e&&(n.left+=v(t,"padding-left"),n.top+=v(t,"padding-top")),n}function A(t,e){return t?c(t)?t:(t=[].concat(t),E(t[0],t[1],e)):null}function E(t,e,r){var i,f=t!==X&&t.self!==T.self;return e=e||"border",r&&(i=R(t,e)),f&&(L=t.getBoundingClientRect()),r||(i=M(t,e)),i.width=n(t,e),i.height=o(t,e),i.bottom=i.top+i.height,i.right=i.left+i.width,f&&(L=null),i}function R(t,e){if(e=e||"border",t===T||t===X)return M(t,e);var n=b(t,"position"),o="static"===n||"relative"===n?M(t,e):M(f(t)||X,"padding");if("static"===n)return o;if("relative"===n){var r=b(t,"left"),i=b(t,"right"),l=b(t,"top"),a=b(t,"bottom");return"auto"===r&&"auto"===i||(o.left-="auto"===r?-g(i):g(r)),"auto"===l&&"auto"===a||(o.top-="auto"===l?-g(a):g(l)),o}e=S[e];var p=v(t,"margin-left"),u=v(t,"margin-top");return 5===e&&(o.left-=Y(P(p,0)),o.top-=Y(P(u,0))),e<5&&(o.left+=p,o.top+=u),e<4&&(o.left+=v(t,"border-left-width"),o.top+=v(t,"border-top-width")),1===e&&(o.left+=v(t,"padding-left"),o.top+=v(t,"padding-top")),o}function k(t,e,n,o,r,i,f){var l=t.charAt(0)+e.charAt(0),a=o+f-i;return"ll"===l||"tt"===l?a:"lc"===l||"tc"===l?a+n/2:"lr"===l||"tb"===l?a+n:"cl"===l||"ct"===l?a-r/2:"cr"===l||"cb"===l?a+n-r/2:"rl"===l||"bt"===l?a-r:"rc"===l||"bc"===l?a-r+n/2:"rr"===l||"bb"===l?a-r+n:a+n/2-r/2}function B(t,e,n){var o=0,r="push",i="forcepush",f=n?"top":"left",l=n?"bottom":"right",a=t[f],p=t[l],u=e[f],c=e[l],h=u+c;return a!==r&&a!==i||p!==r&&p!==i||!(u<0||c<0)?(a===i||a===r)&&u<0?o-=u:(p===i||p===r)&&c<0&&(o+=c):(u<c&&(o-=h<0?u+Y(h/2):u),c<u&&(o+=h<0?c+Y(h/2):c),u+=o,c-=o,a===i&&p!==i&&u<0&&(o-=u),p===i&&a!==i&&c<0&&(o+=c)),o}function N(t){var e=typeof t,n="none",o="none",r="none",i="none";return"string"===e?n=o=r=i=t:"object"===e&&(n=t.left||t.x||n,o=t.right||t.x||o,r=t.top||t.y||r,i=t.bottom||t.y||i),"none"!==n||"none"!==o||"none"!==r||"none"!==i?{left:n,right:o,top:r,bottom:i}:null}var T=t.document&&t.self===t.document.defaultView?t:window,X=T.document,z=X.documentElement,F=X.body;if(!F)throw Error("Mezr needs access to body element.");var L,Y=Math.abs,D=Math.max,P=Math.min,S={content:1,padding:2,scroll:3,border:4,margin:5},V={};return V.placeDefaultOptions={element:null,target:null,position:"left top left top",offsetX:0,offsetY:0,contain:null,adjust:null},V.transform=h(),V.transformLeaksFixed=d(),{width:n,height:o,offset:r,rect:i,containingBlock:f,distance:l,intersection:a,overflow:p,place:u,_settings:V}});